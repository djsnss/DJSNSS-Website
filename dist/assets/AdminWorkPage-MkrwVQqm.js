import{r as l,a as I,R as e,N as q}from"./index-oEUiuk6H.js";import{a as c}from"./axios-DsPaXkF5.js";const R=()=>{const[d,b]=l.useState(!1),[g,v]=l.useState(""),[E,p]=l.useState(""),[x,h]=l.useState(""),[N,y]=l.useState(""),[s,m]=l.useState([]),[a,r]=l.useState(null),[f,u]=l.useState(!1),[i,D]=l.useState(null);I(),l.useEffect(()=>{c.get("http://localhost:5000/api/events").then(t=>m(t.data)).catch(t=>console.error("Error fetching events:",t))},[]);const w=t=>{t.preventDefault();const o={eventName:g,eventImg:E,eventDesc:x,eventDate:N};c.post("http://localhost:5000/api/events/create",o).then(n=>{m([...s,n.data]),v(""),p(""),h(""),y(""),b(!1)}).catch(n=>console.error("Error creating event:",n))},C=()=>{i&&c.delete(`http://localhost:5000/api/events/${i}`).then(()=>{m(s.filter(t=>t._id!==i)),u(!1)}).catch(t=>console.error("Error deleting event:",t))},k=t=>{const o=s.find(n=>n._id===t);r(o)},S=t=>{t.preventDefault(),c.put(`http://localhost:5000/api/events/${a._id}`,a).then(o=>{m(s.map(n=>n._id===a._id?o.data:n)),r(null)}).catch(o=>console.error("Error updating event:",o))};return e.createElement("div",{className:"flex flex-col"},e.createElement(q,null),e.createElement("div",{className:"container p-auto mt-20 mx-auto p-4"},e.createElement("h1",{className:"text-3xl font-bold text-gray-800 mb-8"},"Admin Work Page"),e.createElement("button",{onClick:()=>b(!d),className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 mb-6"},d?"Cancel":"Create Event"),d&&e.createElement("form",{onSubmit:w,className:"bg-white shadow-md rounded-lg p-6 mb-8"},e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"eventName",className:"block text-gray-700 text-sm font-bold mb-2"},"Event Name"),e.createElement("input",{type:"text",id:"eventName",value:g,onChange:t=>v(t.target.value),required:!0,className:"border rounded-lg py-2 px-3 text-gray-700 w-full"})),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"eventImg",className:"block text-gray-700 text-sm font-bold mb-2"},"Event Image URL"),e.createElement("input",{type:"text",id:"eventImg",value:E,onChange:t=>p(t.target.value),required:!0,className:"border rounded-lg py-2 px-3 text-gray-700 w-full"})),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"eventDesc",className:"block text-gray-700 text-sm font-bold mb-2"},"Event Description"),e.createElement("textarea",{id:"eventDesc",value:x,onChange:t=>h(t.target.value),required:!0,className:"border rounded-lg py-2 px-3 text-gray-700 w-full"})),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"eventDate",className:"block text-gray-700 text-sm font-bold mb-2"},"Event Date"),e.createElement("input",{type:"date",id:"eventDate",value:N,onChange:t=>y(t.target.value),required:!0,className:"border rounded-lg py-2 px-3 text-gray-700 w-full"})),e.createElement("button",{type:"submit",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700"},"Create Event")),a&&e.createElement("form",{onSubmit:S,className:"bg-white shadow-md rounded-lg p-6 mb-8"},e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"editEventName",className:"block text-gray-700 text-sm font-bold mb-2"},"Event Name"),e.createElement("input",{type:"text",id:"editEventName",value:a.eventName,onChange:t=>r({...a,eventName:t.target.value}),required:!0,className:"border rounded-lg py-2 px-3 text-gray-700 w-full"})),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"editEventImg",className:"block text-gray-700 text-sm font-bold mb-2"},"Event Image URL"),e.createElement("input",{type:"text",id:"editEventImg",value:a.eventImg,onChange:t=>r({...a,eventImg:t.target.value}),required:!0,className:"border rounded-lg py-2 px-3 text-gray-700 w-full"})),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"editEventDesc",className:"block text-gray-700 text-sm font-bold mb-2"},"Event Description"),e.createElement("textarea",{id:"editEventDesc",value:a.eventDesc,onChange:t=>r({...a,eventDesc:t.target.value}),required:!0,className:"border rounded-lg py-2 px-3 text-gray-700 w-full"})),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"editEventDate",className:"block text-gray-700 text-sm font-bold mb-2"},"Event Date"),e.createElement("input",{type:"date",id:"editEventDate",value:a.eventDate,onChange:t=>r({...a,eventDate:t.target.value}),required:!0,className:"border rounded-lg py-2 px-3 text-gray-700 w-full"})),e.createElement("button",{type:"submit",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700"},"Update Event"),e.createElement("button",{type:"button",onClick:()=>r(null),className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 ml-4"},"Cancel")),f&&e.createElement("div",{className:"bg-white shadow-md rounded-lg p-6 mb-8"},e.createElement("p",{className:"text-gray-700 text-lg mb-4"},"Are you sure you want to delete this event?"),e.createElement("button",{onClick:C,className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700"},"Delete"),e.createElement("button",{onClick:()=>u(!1),className:"bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 ml-4"},"Cancel")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},s.map(t=>e.createElement("div",{key:t._id,className:"bg-white shadow-md rounded-lg p-6 mb-6"},e.createElement("img",{src:t.eventImg,alt:t.eventName,className:"w-full h-40 object-cover rounded-t-lg mb-4"}),e.createElement("h2",{className:"text-xl font-bold mb-2"},t.eventName),e.createElement("p",{className:"text-gray-700 mb-4"},t.eventDesc),e.createElement("p",{className:"text-gray-500 mb-4"},new Date(t.eventDate).toLocaleDateString()),e.createElement("button",{onClick:()=>k(t._id),className:"bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-yellow-700 mr-4"},"Edit"),e.createElement("button",{onClick:()=>{D(t._id),u(!0)},className:"bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700"},"Delete"))))))};export{R as default};
